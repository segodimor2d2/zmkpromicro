# Inclui diretórios de headers
zephyr_include_directories(${ZMK_CONFIG}/include)
zephyr_include_directories(${CMAKE_CURRENT_SOURCE_DIR}/../include)

# Fonte comum (sempre incluída)
target_sources(app PRIVATE
  ${CMAKE_CURRENT_LIST_DIR}/zmk_mouse_state_changed.c
)

if(CONFIG_ZMK_SPLIT_ROLE_CENTRAL)
  # Central (lado esquerdo)
  target_sources(app PRIVATE
    ${CMAKE_CURRENT_LIST_DIR}/uart_move_mouse_left.c
    ${CMAKE_CURRENT_LIST_DIR}/uart_receiver_left.c
    ${CMAKE_CURRENT_LIST_DIR}/uart_switch_left.c
    # ${CMAKE_CURRENT_LIST_DIR}/mouse_state_listener.c
    ${CMAKE_CURRENT_LIST_DIR}/test_left.c
    ${CMAKE_CURRENT_LIST_DIR}/mouse_rx_listener.c
  )
else()
  # Peripheral (lado direito)
  target_sources(app PRIVATE
    ${CMAKE_CURRENT_LIST_DIR}/uart_receiver_right.c
    ${CMAKE_CURRENT_LIST_DIR}/uart_switch_right.c
    ${CMAKE_CURRENT_LIST_DIR}/test_right.c
    ${CMAKE_CURRENT_LIST_DIR}/mouse_test_sender.c
    ${CMAKE_CURRENT_LIST_DIR}/mouse_tx_listener.c
  )
endif()
